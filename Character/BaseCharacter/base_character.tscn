[gd_scene load_steps=69 format=3 uid="uid://heyuc5y56gf8"]

[ext_resource type="PackedScene" uid="uid://u10wuqaym4wq" path="res://Character/BaseCharacter/BaseCharacter.glb" id="1_84i06"]
[ext_resource type="Script" path="res://Character/BaseCharacter/base_character.gd" id="2_uy0i3"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_35kmm"]
animation = &"side_step_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3o6ou"]
animation = &"side_step_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sqt7q"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sgrla"]
animation = &"backstep"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1gbpg"]
animation = &"side_step_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_amrhh"]
animation = &"side_step_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yxw45"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m8xbb"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u7pnk"]
animation = &"run"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_eq06u"]
blend_point_0/node = SubResource("AnimationNodeAnimation_35kmm")
blend_point_0/pos = Vector2(0.5, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_3o6ou")
blend_point_1/pos = Vector2(-0.5, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_sqt7q")
blend_point_2/pos = Vector2(0, 0.5)
blend_point_3/node = SubResource("AnimationNodeAnimation_sgrla")
blend_point_3/pos = Vector2(0, -0.5)
blend_point_4/node = SubResource("AnimationNodeAnimation_1gbpg")
blend_point_4/pos = Vector2(-0.4, -0.4)
blend_point_5/node = SubResource("AnimationNodeAnimation_amrhh")
blend_point_5/pos = Vector2(0.4, -0.4)
blend_point_6/node = SubResource("AnimationNodeAnimation_yxw45")
blend_point_6/pos = Vector2(0, 1)
blend_point_7/node = SubResource("AnimationNodeAnimation_m8xbb")
blend_point_7/pos = Vector2(-0.4, 0.4)
blend_point_8/node = SubResource("AnimationNodeAnimation_u7pnk")
blend_point_8/pos = Vector2(0.4, 0.4)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mqyws"]
animation = &"backstep"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y3203"]
animation = &"falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_orbf7"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tkyhw"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6ibnl"]
animation = &"jumping"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_db1qv"]
animation = &"medium_fall_landing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sy1s3"]
animation = &"post_jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rfj5x"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tbi72"]
animation = &"short_fall_landing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1uenr"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v8584"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1jyxv"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s1uly"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lnwkt"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_28d1d"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_eoe7b"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fayu4"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_i8yds"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_u1ijp"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_h7hr4"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ru3pf"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sc5m7"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4yxyx"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l20rx"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mp6yn"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kq1tx"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vcoan"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ym5ve"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vbxws"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4cje2"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4ou8l"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q08rw"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o6ewu"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gkqms"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2jp6f"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uub8w"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_y6oc3"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_2btfi"]
states/End/position = Vector2(1265.5, 148)
states/Movement/node = SubResource("AnimationNodeBlendSpace2D_eq06u")
states/Movement/position = Vector2(1199.5, 19.5)
states/backstep/node = SubResource("AnimationNodeAnimation_mqyws")
states/backstep/position = Vector2(771, 83.5)
states/falling/node = SubResource("AnimationNodeAnimation_y3203")
states/falling/position = Vector2(312.5, 460.5)
states/idle/node = SubResource("AnimationNodeAnimation_orbf7")
states/idle/position = Vector2(359, 100)
states/jump/node = SubResource("AnimationNodeAnimation_tkyhw")
states/jump/position = Vector2(770, 299.5)
states/jumping/node = SubResource("AnimationNodeAnimation_6ibnl")
states/jumping/position = Vector2(490.5, 533)
states/medium_fall_landing/node = SubResource("AnimationNodeAnimation_db1qv")
states/medium_fall_landing/position = Vector2(176, 292.5)
states/post_jump/node = SubResource("AnimationNodeAnimation_sy1s3")
states/post_jump/position = Vector2(716.25, 470)
states/run/node = SubResource("AnimationNodeAnimation_rfj5x")
states/run/position = Vector2(940, -121.5)
states/short_fall_landing/node = SubResource("AnimationNodeAnimation_tbi72")
states/short_fall_landing/position = Vector2(434, 284.5)
states/walk/node = SubResource("AnimationNodeAnimation_1uenr")
states/walk/position = Vector2(465.5, -153.5)
transitions = ["jump", "post_jump", SubResource("AnimationNodeStateMachineTransition_v8584"), "post_jump", "jumping", SubResource("AnimationNodeStateMachineTransition_1jyxv"), "short_fall_landing", "idle", SubResource("AnimationNodeStateMachineTransition_s1uly"), "medium_fall_landing", "idle", SubResource("AnimationNodeStateMachineTransition_lnwkt"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_28d1d"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_eoe7b"), "walk", "run", SubResource("AnimationNodeStateMachineTransition_fayu4"), "run", "walk", SubResource("AnimationNodeStateMachineTransition_i8yds"), "run", "backstep", SubResource("AnimationNodeStateMachineTransition_u1ijp"), "backstep", "run", SubResource("AnimationNodeStateMachineTransition_h7hr4"), "backstep", "walk", SubResource("AnimationNodeStateMachineTransition_ru3pf"), "walk", "backstep", SubResource("AnimationNodeStateMachineTransition_sc5m7"), "idle", "backstep", SubResource("AnimationNodeStateMachineTransition_4yxyx"), "backstep", "idle", SubResource("AnimationNodeStateMachineTransition_l20rx"), "run", "idle", SubResource("AnimationNodeStateMachineTransition_mp6yn"), "idle", "run", SubResource("AnimationNodeStateMachineTransition_kq1tx"), "idle", "jump", SubResource("AnimationNodeStateMachineTransition_vcoan"), "backstep", "jump", SubResource("AnimationNodeStateMachineTransition_ym5ve"), "run", "jump", SubResource("AnimationNodeStateMachineTransition_vbxws"), "walk", "jump", SubResource("AnimationNodeStateMachineTransition_4cje2"), "jumping", "falling", SubResource("AnimationNodeStateMachineTransition_4ou8l"), "falling", "short_fall_landing", SubResource("AnimationNodeStateMachineTransition_q08rw"), "falling", "medium_fall_landing", SubResource("AnimationNodeStateMachineTransition_o6ewu"), "Start", "idle", SubResource("AnimationNodeStateMachineTransition_gkqms"), "idle", "Movement", SubResource("AnimationNodeStateMachineTransition_2jp6f"), "Movement", "idle", SubResource("AnimationNodeStateMachineTransition_uub8w"), "Movement", "jump", SubResource("AnimationNodeStateMachineTransition_y6oc3")]
graph_offset = Vector2(-105, -91)

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_r5k1o"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_f76j5"]
filters = ["Skeleton/Skeleton3D:Fingers L", "Skeleton/Skeleton3D:Fingers R", "Skeleton/Skeleton3D:Lower Arm L", "Skeleton/Skeleton3D:Lower Arm R", "Skeleton/Skeleton3D:Palm L", "Skeleton/Skeleton3D:Palm R", "Skeleton/Skeleton3D:Thumb 2 L", "Skeleton/Skeleton3D:Thumb 2 R", "Skeleton/Skeleton3D:Thumb L", "Skeleton/Skeleton3D:Thumb R", "Skeleton/Skeleton3D:Upper Arm L", "Skeleton/Skeleton3D:Upper Arm R", "Skeleton/Skeleton3D:Wrist R"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_gu05x"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_35m01"]
filter_enabled = true
filters = ["Skeleton/Skeleton3D:Fingers L", "Skeleton/Skeleton3D:Lower Arm L", "Skeleton/Skeleton3D:Palm L", "Skeleton/Skeleton3D:Thumb 2 L", "Skeleton/Skeleton3D:Thumb L", "Skeleton/Skeleton3D:Upper Arm L"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_51fi7"]
animation = &"sword_right_hand_idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_eqend"]
animation = &"sword_right_hand_slash1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bo0x7"]
animation = &"sword_right_hand_slash2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7f2ac"]
animation = &"sword_right_hand_thrust"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_svlk8"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jwcbn"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yacpu"]
xfade_time = 0.5

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nh0gd"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xgg6u"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6ityx"]
xfade_time = 0.5
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sb5x3"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_kmj1k"]
states/Start/position = Vector2(147, 77.25)
states/sword_right_hand_idle/node = SubResource("AnimationNodeAnimation_51fi7")
states/sword_right_hand_idle/position = Vector2(370.5, 52)
states/sword_right_hand_slash1/node = SubResource("AnimationNodeAnimation_eqend")
states/sword_right_hand_slash1/position = Vector2(626.5, -65)
states/sword_right_hand_slash2/node = SubResource("AnimationNodeAnimation_bo0x7")
states/sword_right_hand_slash2/position = Vector2(899.5, -51)
states/sword_right_hand_thrust/node = SubResource("AnimationNodeAnimation_7f2ac")
states/sword_right_hand_thrust/position = Vector2(587, 151)
transitions = ["Start", "sword_right_hand_idle", SubResource("AnimationNodeStateMachineTransition_svlk8"), "sword_right_hand_idle", "sword_right_hand_slash1", SubResource("AnimationNodeStateMachineTransition_jwcbn"), "sword_right_hand_slash1", "sword_right_hand_idle", SubResource("AnimationNodeStateMachineTransition_yacpu"), "sword_right_hand_slash1", "sword_right_hand_slash2", SubResource("AnimationNodeStateMachineTransition_nh0gd"), "sword_right_hand_idle", "sword_right_hand_thrust", SubResource("AnimationNodeStateMachineTransition_xgg6u"), "sword_right_hand_slash2", "sword_right_hand_idle", SubResource("AnimationNodeStateMachineTransition_6ityx"), "sword_right_hand_thrust", "sword_right_hand_idle", SubResource("AnimationNodeStateMachineTransition_sb5x3")]
graph_offset = Vector2(-59, -133)

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_jcqj7"]
filter_enabled = true
filters = ["Skeleton/Skeleton3D:Fingers R", "Skeleton/Skeleton3D:Lower Arm R", "Skeleton/Skeleton3D:Palm R", "Skeleton/Skeleton3D:Thumb 2 R", "Skeleton/Skeleton3D:Thumb R", "Skeleton/Skeleton3D:Upper Arm R", "Skeleton/Skeleton3D:Wrist R"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_e0clx"]
graph_offset = Vector2(315.5, 185)
nodes/Body/node = SubResource("AnimationNodeStateMachine_2btfi")
nodes/Body/position = Vector2(250, 0)
nodes/BothArm/node = SubResource("AnimationNodeStateMachine_r5k1o")
nodes/BothArm/position = Vector2(960, 520)
nodes/BothArmOneShot/node = SubResource("AnimationNodeOneShot_f76j5")
nodes/BothArmOneShot/position = Vector2(1262.5, 200)
nodes/LeftArm/node = SubResource("AnimationNodeStateMachine_gu05x")
nodes/LeftArm/position = Vector2(250, 280)
nodes/LeftArmOneShot/node = SubResource("AnimationNodeOneShot_35m01")
nodes/LeftArmOneShot/position = Vector2(660, 50)
nodes/RightArm/node = SubResource("AnimationNodeStateMachine_kmj1k")
nodes/RightArm/position = Vector2(390, 430)
nodes/RightArmOneShot/node = SubResource("AnimationNodeOneShot_jcqj7")
nodes/RightArmOneShot/position = Vector2(901.79, 193.694)
nodes/output/position = Vector2(1450, 100)
node_connections = [&"BothArmOneShot", 0, &"RightArmOneShot", &"BothArmOneShot", 1, &"BothArm", &"LeftArmOneShot", 0, &"Body", &"LeftArmOneShot", 1, &"LeftArm", &"RightArmOneShot", 0, &"LeftArmOneShot", &"RightArmOneShot", 1, &"RightArm", &"output", 0, &"BothArmOneShot"]

[node name="BaseCharacter" instance=ExtResource("1_84i06")]
script = ExtResource("2_uy0i3")

[node name="Skeleton3D" parent="Skeleton" index="0"]
bones/0/rotation = Quaternion(-0.472908, -0.499265, -0.499266, 0.527092)
bones/1/rotation = Quaternion(-0.636389, 0.135698, -0.0595396, 0.757001)
bones/2/rotation = Quaternion(-0.0166088, 0.002596, -0.167376, 0.98575)
bones/4/rotation = Quaternion(-0.151659, -0.150062, 0.006846, 0.976951)
bones/5/rotation = Quaternion(-0.0139495, -0.0139425, 0.00245347, 0.999802)
bones/6/rotation = Quaternion(0.660071, 0.688141, 0.123234, -0.274921)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(7.06183e-19, -0.064031, 0.0103763)
bones/9/rotation = Quaternion(0.477198, -3.90282e-16, -2.77521e-16, 0.878796)
bones/11/rotation = Quaternion(0.0558623, 2.93275e-17, 2.33202e-17, 0.998438)
bones/12/rotation = Quaternion(0.278627, 3.44515e-24, -6.18675e-17, 0.9604)
bones/13/rotation = Quaternion(-0.183306, 1.29492e-16, 1.29492e-16, 0.983056)
bones/14/rotation = Quaternion(0.995933, 0.0119667, -0.00536485, -0.0891396)
bones/14/scale = Vector3(1, 0.999999, 0.999985)
bones/15/rotation = Quaternion(0.0923368, 0.00954229, -0.00729637, 0.995655)
bones/15/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(0.103984, -0.0149653, 0.0208684, 0.994247)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(-0.799786, 2.93727e-05, 0.0002328, 0.600286)
bones/18/rotation = Quaternion(0.012926, 2.66891e-14, 1.05361e-14, 0.999916)
bones/19/rotation = Quaternion(0.995933, -0.0119668, 0.00536491, -0.0891399)
bones/19/scale = Vector3(1, 0.999999, 0.999985)
bones/20/rotation = Quaternion(0.0923363, -0.00954229, 0.00729635, 0.995655)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(0.103984, 0.0149653, -0.0208684, 0.994247)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(-0.799786, -2.9372e-05, -0.000232799, 0.600286)
bones/23/rotation = Quaternion(0.012926, -2.66891e-14, -1.05361e-14, 0.999916)
bones/24/rotation = Quaternion(-0.472908, 0.499265, 0.499266, 0.527092)
bones/25/rotation = Quaternion(-0.637382, -0.124688, 0.0717741, 0.756998)
bones/26/rotation = Quaternion(-0.013203, -0.00260987, 0.133053, 0.991018)
bones/28/rotation = Quaternion(-0.151659, 0.150062, -0.006846, 0.976951)
bones/29/rotation = Quaternion(-0.0139495, 0.0139425, -0.00245347, 0.999802)
bones/30/rotation = Quaternion(-0.660071, 0.688141, 0.123234, 0.274921)
bones/31/rotation = Quaternion(0.177418, -0.46955, 0.0339229, 0.864231)

[node name="RightHandAttachment" type="BoneAttachment3D" parent="Skeleton/Skeleton3D" index="1"]
transform = Transform3D(-0.242372, -0.10733, -0.964228, -0.00390352, -0.993746, 0.111597, -0.970175, 0.0308118, 0.240437, -0.510069, -0.175896, 0.0395551)
bone_name = "Palm R"
bone_idx = 28

[node name="RightHandContainer" type="Node3D" parent="Skeleton/Skeleton3D/RightHandAttachment" index="0"]
transform = Transform3D(0.450253, -0.874047, 0.182524, -0.317604, -0.347821, -0.882127, 0.834506, 0.339209, -0.434208, -0.24, -0.1, 0.037)

[node name="LeftHandAttachment" type="BoneAttachment3D" parent="Skeleton/Skeleton3D" index="2"]
transform = Transform3D(-0.248054, 0.08675, 0.964854, 0.0394034, -0.994255, 0.0995236, 0.967944, 0.0627058, 0.243211, 0.500694, -0.172591, 0.0431957)
bone_name = "Palm L"
bone_idx = 4

[node name="LeftHandContainer" type="Node3D" parent="Skeleton/Skeleton3D/LeftHandAttachment" index="0"]

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_e0clx")
anim_player = NodePath("../AnimationPlayer")
parameters/Body/Movement/blend_position = Vector2(0.347355, -0.292439)
parameters/BothArmOneShot/active = false
parameters/BothArmOneShot/internal_active = false
parameters/BothArmOneShot/request = 0
parameters/LeftArmOneShot/active = false
parameters/LeftArmOneShot/internal_active = false
parameters/LeftArmOneShot/request = 0
parameters/RightArmOneShot/active = false
parameters/RightArmOneShot/internal_active = false
parameters/RightArmOneShot/request = 0

[connection signal="animation_finished" from="AnimationTree" to="." method="emit_animation_finished"]
